def step [ t=string.@, case(t; 'XXX','.'; 'X..','.'; '...','.'; 'X') : ngrams(seq.bytes.@,3) ];
def rule110 << h=grep(@~0, '.*$')~0, n=cat('.', join(step.h, ''), '.'), cat(@~0, '\n', n) : @~0, count.@~1 >>;
rule110('..........XX..........', 8)
===>
..........XX..........
.........XXX..........
........XX.X..........
.......XXXXX..........
......XX...X..........
.....XXX..XX..........
....XX.X.XXX..........
...XXXXXXX.X..........
..XX.....XXX..........
